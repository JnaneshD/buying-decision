<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Make smarter buying decisions by seeing how many hours of work each purchase costs you."
    />
    <title>Buying Decision - Is It Worth Your Time?</title>
    <!-- Favicon (Money Bag Emoji) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ’°</text></svg>">

    <!-- Google Fonts - Nunito (Duolingo-style) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <!-- Background Pattern with Shopping Icons -->
    <div class="bg-pattern">
      <span class="bg-icon">ğŸ›’</span>
      <span class="bg-icon">ğŸ’³</span>
      <span class="bg-icon">ğŸ›ï¸</span>
      <span class="bg-icon">ğŸ’°</span>
      <span class="bg-icon">ğŸ·ï¸</span>
      <span class="bg-icon">ğŸ“¦</span>
      <span class="bg-icon">ğŸ‘œ</span>
      <span class="bg-icon">â°</span>
      <span class="bg-icon">ğŸ’µ</span>
      <span class="bg-icon">ğŸ</span>
      <span class="bg-icon">ğŸ’¸</span>
      <span class="bg-icon">ğŸ›’</span>
      <span class="bg-icon">ğŸ’³</span>
      <span class="bg-icon">ğŸ›ï¸</span>
      <span class="bg-icon">ğŸ’°</span>
    </div>

    <div id="app" class="app-wrapper">
      <!-- Onboarding Screen -->
      <div id="onboarding-screen" class="screen">
        <div class="onboarding-container">
          <div class="app-logo"></div>
          <h1 class="title">
            <span class="highlight">Buying Decision</span>
          </h1>
          <p class="subtitle">
            See how many hours you work for each purchase. Think twice, spend wisely.
          </p>

          <form id="onboarding-form" class="glass-card">
            <div class="form-group">
              <label for="user-name">What's your name? ğŸ‘‹</label>
              <input
                type="text"
                id="user-name"
                placeholder="Enter your name"
                required
              />
            </div>

            <div class="form-group">
              <label for="currency">Choose your currency ğŸ’±</label>
              <div class="currency-selector">
                <button
                  type="button"
                  class="currency-btn active"
                  data-currency="INR"
                >
                  <span class="currency-symbol">â‚¹</span>
                  <span class="currency-name">INR</span>
                </button>
                <button type="button" class="currency-btn" data-currency="USD">
                  <span class="currency-symbol">$</span>
                  <span class="currency-name">USD</span>
                </button>
              </div>
            </div>

            <div class="form-group">
              <label for="monthly-salary">Monthly in-hand salary ğŸ’µ</label>
              <div class="salary-input-wrapper">
                <span class="currency-prefix" id="currency-prefix">â‚¹</span>
                <input
                  type="number"
                  id="monthly-salary"
                  placeholder="50000"
                  min="1"
                  required
                />
              </div>
            </div>

            <button type="submit" class="btn btn-primary btn-large">
              Let's Go! ğŸš€
            </button>
          </form>
        </div>
      </div>

      <!-- Main Dashboard Screen -->
      <div id="dashboard-screen" class="screen hidden">
        <!-- Header -->
        <header class="header">
          <div class="header-left">
            <span class="header-logo">ğŸ’°</span>
            <h2 class="greeting" id="greeting">Hi, User!</h2>
          </div>
          <div class="header-right">
            <button class="btn btn-icon" id="help-btn" title="How it works">â“</button>
            <button class="btn btn-icon" id="settings-btn" title="Settings">âš™ï¸</button>
          </div>
        </header>

        <!-- Compact Stats Bar -->
        <div class="stats-bar">
          <div class="stat-pill">
            <span class="stat-label">Hourly</span>
            <span class="stat-value" id="stat-hourly">â‚¹284</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-pill">
            <span class="stat-label">Daily</span>
            <span class="stat-value" id="stat-daily">â‚¹2,273</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-pill">
            <span class="stat-label">Monthly</span>
            <span class="stat-value" id="stat-monthly">â‚¹50,000</span>
          </div>
        </div>

        <!-- Add Item Section -->
        <div class="add-item-section glass-card">
          <h3>ğŸ›’ Thinking of buying something?</h3>
          <form id="add-item-form">
            <div class="form-row">
              <div class="form-group flex-grow">
                <input
                  type="text"
                  id="item-name"
                  placeholder="What do you want to buy?"
                  required
                />
              </div>
              <div class="form-group">
                <div class="price-input-wrapper">
                  <span class="currency-prefix" id="item-currency-prefix"
                    >â‚¹</span
                  >
                  <input
                    type="number"
                    id="item-price"
                    placeholder="Price"
                    min="1"
                    required
                  />
                </div>
              </div>
            </div>
            <div class="form-group">
              <input
                type="url"
                id="item-url"
                placeholder="ğŸ”— Product link (optional) - paste URL here"
              />
            </div>
            <button type="submit" class="btn btn-primary">
              Calculate Work Time â±ï¸
            </button>
          </form>
        </div>

        <!-- Work Time Result (shown after calculation) -->
        <div id="work-time-result" class="work-time-result glass-card hidden">
          <div class="result-emoji" id="result-emoji">ğŸ‘Ÿ</div>
          <div class="result-item-name" id="result-item-name">
            Nike Air Jordan
          </div>
          <div class="result-price" id="result-price">â‚¹15,000</div>
          <div class="result-time">
            <span class="time-label">This costs you</span>
            <div class="time-display" id="time-display">
              <!-- Time blocks will be dynamically generated -->
            </div>
            <span class="time-text">of work!</span>
          </div>
          <div class="result-progress">
            <div class="progress-bar" id="progress-bar"></div>
          </div>
          <div class="result-message" id="result-message">
            That's almost a week of your life! ğŸ¤”
          </div>
          <div class="result-actions">
            <button class="btn btn-success" id="btn-skip-purchase">
              Skip It! ğŸ‰ Save Time
            </button>
            <button class="btn btn-secondary" id="btn-add-to-list">
              Add to Wishlist ğŸ“
            </button>
          </div>
        </div>

        <!-- Celebration Overlay (Skip/Save) -->
        <div id="celebration-overlay" class="celebration-overlay hidden">
          <div class="celebration-content">
            <div class="celebration-emoji">ğŸ‰</div>
            <h2>Amazing Decision!</h2>
            <p id="celebration-message">You just saved 6 days of work!</p>
            <div class="confetti-container" id="confetti"></div>
          </div>
        </div>

        <!-- Purchase Celebration Overlay (Bought It) -->
        <div id="purchase-overlay" class="celebration-overlay purchase-overlay hidden">
          <div class="celebration-content">
            <div class="celebration-emoji" id="purchase-emoji">ğŸ›ï¸</div>
            <h2 id="purchase-title">Enjoy Your Purchase!</h2>
            <p id="purchase-message">You made a mindful decision!</p>
            <div class="confetti-container" id="purchase-confetti"></div>
          </div>
        </div>

        <!-- Items List Section -->
        <div class="items-section">
          <div class="section-header">
            <h3>ğŸ“ Your Wishlist</h3>
            <button class="btn btn-text" id="btn-clear-all">Clear All</button>
          </div>
          <div id="items-list" class="items-list">
            <!-- Items will be dynamically added here -->
            <div class="empty-state" id="empty-state">
              <div class="empty-icon">ğŸ›ï¸</div>
              <p>No items yet! Add something you're thinking of buying.</p>
            </div>
          </div>
          <div id="list-summary" class="list-summary hidden">
            <div class="summary-row">
              <span>Total Items:</span>
              <span id="total-items">0</span>
            </div>
            <div class="summary-row">
              <span>Total Cost:</span>
              <span id="total-cost">â‚¹0</span>
            </div>
            <div class="summary-row highlight">
              <span>Total Work Time:</span>
              <span id="total-work-time">0 days, 0 hours</span>
            </div>
          </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
          <p>Made with ğŸ’š to help you save wisely by JND</p>
        </footer>
      </div>

      <!-- Settings Modal -->
      <div id="settings-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card">
          <div class="modal-header">
            <h3>âš™ï¸ Settings</h3>
            <button class="btn btn-icon modal-close" id="close-settings">
              âœ•
            </button>
          </div>
          <form id="settings-form">
            <div class="form-group">
              <label for="edit-name">Your Name</label>
              <input type="text" id="edit-name" required />
            </div>
            <div class="form-group">
              <label>Currency</label>
              <div class="currency-selector" id="settings-currency-selector">
                <button type="button" class="currency-btn" data-currency="INR">
                  <span class="currency-symbol">â‚¹</span>
                  <span class="currency-name">INR</span>
                </button>
                <button type="button" class="currency-btn" data-currency="USD">
                  <span class="currency-symbol">$</span>
                  <span class="currency-name">USD</span>
                </button>
              </div>
            </div>
            <div class="form-group">
              <label for="edit-salary">Monthly Salary</label>
              <div class="salary-input-wrapper">
                <span class="currency-prefix" id="settings-currency-prefix"
                  >â‚¹</span
                >
                <input type="number" id="edit-salary" min="1" required />
              </div>
            </div>
            <div class="modal-actions">
              <button
                type="button"
                class="btn btn-secondary"
                id="cancel-settings"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">
                Save Changes
              </button>
            </div>
          </form>
          <div class="danger-zone">
            <button class="btn btn-danger" id="reset-data">
              ğŸ—‘ï¸ Reset All Data
            </button>
          </div>
        </div>
      </div>

      <!-- Help Modal -->
      <div id="help-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card help-modal-content">
          <div class="modal-header">
            <h3>â“ How It Works</h3>
            <button class="btn btn-icon modal-close" id="close-help">âœ•</button>
          </div>
          <div class="help-content">
            <section class="help-section">
              <h4>ğŸ“Š The Idea</h4>
              <p>This app converts <strong>money into time</strong>. Instead of seeing â‚¹15,000, you see "6 days of work" â€” making it easier to decide if a purchase is worth your effort.</p>
            </section>

            <section class="help-section">
              <h4>âš™ï¸ Calculation Assumptions</h4>
              <div class="assumptions-grid">
                <div class="assumption-item">
                  <span class="assumption-icon">â°</span>
                  <div>
                    <strong>8 hours</strong>
                    <span>per work day</span>
                  </div>
                </div>
                <div class="assumption-item">
                  <span class="assumption-icon">ğŸ“…</span>
                  <div>
                    <strong>22 days</strong>
                    <span>per work month</span>
                  </div>
                </div>
                <div class="assumption-item">
                  <span class="assumption-icon">ğŸ“†</span>
                  <div>
                    <strong>264 days</strong>
                    <span>per work year</span>
                  </div>
                </div>
              </div>
            </section>

            <section class="help-section">
              <h4>ğŸ§® Example Calculation</h4>
              <div class="example-box">
                <p><strong>Monthly Salary:</strong> â‚¹50,000</p>
                <p><strong>Daily Rate:</strong> â‚¹50,000 Ã· 22 = â‚¹2,273/day</p>
                <p><strong>Hourly Rate:</strong> â‚¹2,273 Ã· 8 = â‚¹284/hour</p>
                <hr>
                <p><strong>If you want to buy a phone for â‚¹15,000:</strong></p>
                <p>â‚¹15,000 Ã· â‚¹284/hour = <strong>52.8 hours</strong></p>
                <p>= <strong>6 days + 4.8 hours</strong> of work!</p>
              </div>
            </section>

            <section class="help-section">
              <h4>ğŸ¯ How to Use</h4>
              <ol class="usage-steps">
                <li>Enter your <strong>monthly in-hand salary</strong></li>
                <li>Add items you're thinking of buying</li>
                <li>See how much <strong>work time</strong> each costs</li>
                <li>Click <strong>"Skip It!"</strong> to celebrate smart decisions ğŸ‰</li>
                <li>Or add to <strong>Wishlist</strong> to track items</li>
              </ol>
            </section>

            <section class="help-section">
              <h4>ğŸ”’ Privacy</h4>
              <p>All your data stays in your browser. We don't store anything on servers. Clear your browser data to reset.</p>
            </section>
          </div>
          <div class="modal-actions">
            <button class="btn btn-primary" id="got-it-btn">Got It! ğŸ‘</button>
          </div>
        </div>
      </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
